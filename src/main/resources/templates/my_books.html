<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>td {
        border: 1px solid black;
    }

    .InsideContent {
        display: inline-block;
    }
    </style>
</head>
<body>
<div>Moje książki udostępnione innym</div>
<table>
    <tr>
        <th>ID</th>
        <th>Tytuł</th>
        <th>Autor</th>
        <th>Opis</th>
        <th>Obecny Właściciel</th>
        <th>Szczegóły</th>
    </tr>
    <tr th:each="book : ${books_owner}">
        <td th:text="${book.id}">ID</td>
        <td th:text="${book.title}">Tytuł</td>
        <td th:text="${book.author}">Autor</td>
        <td th:text="${book.description}">Opis</td>
        <td th:text="${book.reader?.fullName}">Obecny Właściciel</td>
        <td><a th:href="@{/book/{id}(id = ${book.id})}">Szczegóły</a></td>
    </tr>
</table>

<div>Moje ksiażki udostępnione przez innych</div>
<table>
    <tr>
        <th>ID</th>
        <th>Tytuł</th>
        <th>Autor</th>
        <th>Opis</th>
        <th>Właściciel</th>
        <th>Szczegóły</th>
    </tr>
    <tr th:each="book : ${books_reader}">
        <td th:text="${book.id}">ID</td>
        <td th:text="${book.title}">Tytuł</td>
        <td th:text="${book.author}">Autor</td>
        <td th:text="${book.description}">Opis</td>
        <td th:text="${book.owner?.fullName}">Właściciel</td>
        <td><a th:href="@{/book/{id}(id = ${book.id})}">Szczegóły</a></td>
    </tr>
</table>

<div>Prośby o wypożyczenie</div>
<p>Jeżeli zaakceptujesz prośbę, obecny czytelnik się zmieni.</p>
<table>
    <tr>
        <th>Prośba od</th>
        <th>Tytuł książki</th>
        <th>Obecny czytelnik</th>
        <th></th>
        <th></th>
    </tr>
    <tr th:each="request : ${books_requests}">
        <td th:text="${request.requester.fullName}">ID</td>
        <td th:text="${request.book.title}">Tytuł</td>
        <td th:text="${request.book.reader?.fullName}">Czytelnik</td>
        <td><a th:href="@{/my-books/accept(id=${request.id})}">akceptuj</a></td>
        <td><a th:href="@{/my-books/decline(id=${request.id})}">odrzuć</a></td>

    </tr>
</table>

<a href="/logout">Logout</a>
<a th:href="@{/book/add}">Dodaj ksiażke</a>
<a class="InsideContent" href="/">Wszystkie książki</a>
</body>
</html>
